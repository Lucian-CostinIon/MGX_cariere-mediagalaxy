var CariereJSON = [{
  NumeDivizie: "Magazine",
  NumePozitii: [{
      NumePozitie: "Casier",
      Orase: ["Arad", "Baia Mare", "Brasov", "Bucuresti", "Cluj-Napoca", "Constanta", "Craiova", "Iasi", "Oradea", "Pitesti", "Suceava", "Targu Mures", "Timisoara"],
      Email: {
        MailTo: "recrutare@mediagalaxy.ro",
        Subject: "[CASIER]",
        BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
        BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
        BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
      },
      AcorduriGDPR: {
        AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
        AcordAltex: {
          TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
          ValoareAcordAltex: "Nu"
        },
        AcordParteneriAltex: {
          TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
          ValoareAcordParteneriAltex: "Nu"
        },
        AcorduriGDPRFooter: "%0D%0A"
      }
    }, {
      NumePozitie: "Consultant Vanzari",
      Orase: ["Arad", "Baia Mare", "Brasov", "Bucuresti", "Cluj-Napoca", "Constanta", "Craiova", "Iasi", "Oradea", "Pitesti", "Suceava", "Targu Mures", "Timisoara"],
      Email: {
        MailTo: "recrutare@mediagalaxy.ro",
        Subject: "[CONSULTANT VANZARI]",
        BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
        BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
        BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
      },
      AcorduriGDPR: {
        AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
        AcordAltex: {
          TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
          ValoareAcordAltex: "Nu"
        },
        AcordParteneriAltex: {
          TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
          ValoareAcordParteneriAltex: "Nu"
        },
        AcorduriGDPRFooter: "%0D%0A"
      }
    },
    /*{
       NumePozitie: "Consultant Servicii Orange",
       Orase: ["Bucuresti", "Focsani", "Piatra Neamt", "Targu Jiu"],
       Email: {
         MailTo: "recrutare@mediagalaxy.ro",
         Subject: "[CONSULTANT SERVICII ORANGE]",
         BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
         BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
         BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
       },
       AcorduriGDPR: {
         AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
         AcordAltex: {
           TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
           ValoareAcordAltex: "Nu"
         },
         AcordParteneriAltex: {
           TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
           ValoareAcordParteneriAltex: "Nu"
         },
         AcorduriGDPRFooter: "%0D%0A"
       }
     },*/
    {
      NumePozitie: "Raion Manager",
      Orase: ["Bucuresti", "Pitesti", "Timisoara"],
      Email: {
        MailTo: "recrutare@mediagalaxy.ro",
        Subject: "[RAION MANAGER]",
        BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
        BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
        BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
      },
      AcorduriGDPR: {
        AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
        AcordAltex: {
          TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
          ValoareAcordAltex: "Nu"
        },
        AcordParteneriAltex: {
          TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
          ValoareAcordParteneriAltex: "Nu"
        },
        AcorduriGDPRFooter: "%0D%0A"
      }
    }, {
      NumePozitie: "Manager Financiar",
      Orase: ["Bucuresti"],
      Email: {
        MailTo: "recrutare@mediagalaxy.ro",
        Subject: "[MANAGER FINANCIAR]",
        BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
        BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
        BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
      },
      AcorduriGDPR: {
        AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
        AcordAltex: {
          TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
          ValoareAcordAltex: "Nu"
        },
        AcordParteneriAltex: {
          TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
          ValoareAcordParteneriAltex: "Nu"
        },
        AcorduriGDPRFooter: "%0D%0A"
      }
    }, {
      NumePozitie: "Director Adjunct",
      Orase: ["Bucuresti", "Cluj-Napoca", "Pitesti", "Suceava", "Timisoara"],
      Email: {
        MailTo: "recrutare@mediagalaxy.ro",
        Subject: "[DIRECTOR ADJUNCT]",
        BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
        BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
        BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
      },
      AcorduriGDPR: {
        AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
        AcordAltex: {
          TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
          ValoareAcordAltex: "Nu"
        },
        AcordParteneriAltex: {
          TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
          ValoareAcordParteneriAltex: "Nu"
        },
        AcorduriGDPRFooter: "%0D%0A"
      }
    },
    /*{
       NumePozitie: "Director Magazin",
       Orase: ["Baia Mare", "Slobozia", "Targoviste"],
       Email: {
         MailTo: "recrutare@mediagalaxy.ro",
         Subject: "[DIRECTOR MAGAZIN]",
         BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
         BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
         BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
       },
       AcorduriGDPR: {
         AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
         AcordAltex: {
           TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
           ValoareAcordAltex: "Nu"
         },
         AcordParteneriAltex: {
           TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
           ValoareAcordParteneriAltex: "Nu"
         },
         AcorduriGDPRFooter: "%0D%0A"
       }
     },*/
    {
      NumePozitie: "Responsabil Service",
      Orase: ["Bucuresti", "Oradea", "Suceava"],
      Email: {
        MailTo: "recrutare@mediagalaxy.ro",
        Subject: "[RESPONSABIL SERVICE]",
        BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
        BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
        BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
      },
      AcorduriGDPR: {
        AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
        AcordAltex: {
          TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
          ValoareAcordAltex: "Nu"
        },
        AcordParteneriAltex: {
          TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
          ValoareAcordParteneriAltex: "Nu"
        },
        AcorduriGDPRFooter: "%0D%0A"
      }
    },
    /* {
        NumePozitie: "Ofiter Credite",
        Orase: ["Bucuresti", "Cluj-Napoca"],
        Email: {
          MailTo: "recrutare@mediagalaxy.ro",
          Subject: "[OFITER CREDITE]",
          BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
          BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
          BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
        },
        AcorduriGDPR: {
          AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
          AcordAltex: {
            TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
            ValoareAcordAltex: "Nu"
          },
          AcordParteneriAltex: {
            TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
            ValoareAcordParteneriAltex: "Nu"
          },
          AcorduriGDPRFooter: "%0D%0A"
        }
      }*/
  ]
}, {
  NumeDivizie: "Sediu",
  NumePozitii: [{
      NumePozitie: "Customer Service Consultant",
      Orase: ["Bucuresti"],
      Email: {
        MailTo: "recrutaresediu@mediagalaxy.ro",
        Subject: "[CUSTOMER SERVICE CONSULTANT]",
        BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
        BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
        BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
      },
      AcorduriGDPR: {
        AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
        AcordAltex: {
          TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
          ValoareAcordAltex: "Nu"
        },
        AcordParteneriAltex: {
          TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
          ValoareAcordParteneriAltex: "Nu"
        },
        AcorduriGDPRFooter: "%0D%0A"
      }
    },
    /* {
        NumePozitie: "Front Desk Officer",
        Orase: ["Bucuresti"],
        Email: {
          MailTo: "recrutaresediu@mediagalaxy.ro",
          Subject: "[FRONT DESK OFFICER]",
          BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
          BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
          BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
        },
        AcorduriGDPR: {
          AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
          AcordAltex: {
            TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
            ValoareAcordAltex: "Nu"
          },
          AcordParteneriAltex: {
            TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
            ValoareAcordParteneriAltex: "Nu"
          },
          AcorduriGDPRFooter: "%0D%0A"
        }
      }, {
        NumePozitie: "Agent Colectare Debite",
        Orase: ["Bucuresti"],
        Email: {
          MailTo: "recrutaresediu@mediagalaxy.ro",
          Subject: "[AGENT COLECTARE DEBITE]",
          BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
          BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
          BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
        },
        AcorduriGDPR: {
          AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
          AcordAltex: {
            TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
            ValoareAcordAltex: "Nu"
          },
          AcordParteneriAltex: {
            TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
            ValoareAcordParteneriAltex: "Nu"
          },
          AcorduriGDPRFooter: "%0D%0A"
        }
      }, {
        NumePozitie: "Product Manager",
        Orase: ["Bucuresti"],
        Email: {
          MailTo: "recrutaresediu@mediagalaxy.ro",
          Subject: "[PRODUCT MANAGER]",
          BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
          BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
          BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
        },
        AcorduriGDPR: {
          AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
          AcordAltex: {
            TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
            ValoareAcordAltex: "Nu"
          },
          AcordParteneriAltex: {
            TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
            ValoareAcordParteneriAltex: "Nu"
          },
          AcorduriGDPRFooter: "%0D%0A"
        }
      }, {
      NumePozitie: "Agent Telesales",
      Orase: ["Bucuresti"],
      Email: {
        MailTo: "recrutaresediu@mediagalaxy.ro",
        Subject: "[AGENT TELESALES]",
        BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
        BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
        BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
      },
      AcorduriGDPR: {
        AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
        AcordAltex: {
          TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
          ValoareAcordAltex: "Nu"
        },
        AcordParteneriAltex: {
          TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
          ValoareAcordParteneriAltex: "Nu"
        },
        AcorduriGDPRFooter: "%0D%0A"
      }
    },*/
    {
      NumePozitie: "Invoice Processing Specialist",
      Orase: ["Bucuresti"],
      Email: {
        MailTo: "recrutaresediu@mediagalaxy.ro",
        Subject: "[INVOICE PROCESSING SPECIALIST]",
        BodyHeader: "Salut,%0D%0ATe rugam sa atasezi acum CV tau pentru pozitia: ",
        BodyContent: "%0D%0A%0D%0ALasa-ne si numarul tau de telefon aici: 07XX.XXX.XXX%0D%0AIn masura in care CV atasat se potriveste rolului un consultant Resurse Umane te va contacta.%0D%0A",
        BodyFooter: "%0D%0AEchipa Resurse Umane iti multumeste pentru interesul acordat companiei Media Galaxy.%0D%0A"
      },
      AcorduriGDPR: {
        AcorduriGDPRHeader: "%0D%0AAi selectat urmatoarele optiuni de prelucrare a datelor:",
        AcordAltex: {
          TextAcordAltex: "%0D%0A - Acord de prelucrare Media Galaxy: ",
          ValoareAcordAltex: "Nu"
        },
        AcordParteneriAltex: {
          TextAcordParteneriAltex: "%0D%0A - Acord de prelucrare parteneri Media Galaxy: ",
          ValoareAcordParteneriAltex: "Nu"
        },
        AcorduriGDPRFooter: "%0D%0A"
      }
    },
  ]
}];

var divizii_pagina_html = document.getElementsByClassName('Tabs-navList')[0].getElementsByTagName('li');
for (let y = 0; y < divizii_pagina_html.length; y++) {
  var index_divizie = divizii_pagina_html[y].id.toLowerCase();
  var pozitii_pagina_html = document.getElementById(index_divizie).getElementsByTagName('button');

  for (let z = 0; z < pozitii_pagina_html.length; z++) {
    var button_id = pozitii_pagina_html[z].id;

    var index_pozitie;
    CariereJSON[y].NumePozitii.some(function (element, i) {
      console.log('element.NumePozitie: ' + element.NumePozitie);
      console.log('i: ' + i);
      if (element.NumePozitie.replace(/\s/g, '') === button_id) {
        index_pozitie = i;
        return true;
      }
    });

    let div = document.createElement('div');

    let h3 = document.createElement('h3');
    h3.setAttribute('class', 'u-text-align-center u-heading-h4');
    h3.innerHTML = 'Selecteaza Orasul tau pentru a atasa CV-ul:';

    let ul = document.createElement('ul');
    ul.setAttribute('class', 'cariere-ListOrase List u-clearfix');

    pozitii_pagina_html[z].nextElementSibling.appendChild(div);
    div.appendChild(h3);
    div.appendChild(ul);

    var pozitie_numar_orase = CariereJSON[y].NumePozitii[index_pozitie].Orase.length;
    let orase = 'orase';
    if (pozitie_numar_orase == 1) orase = 'oras';
    pozitii_pagina_html[z].children[0].children[1].innerHTML = 'pozitii deschise in ' + pozitie_numar_orase + ' ' +
      orase;

    for (let z = 0; z < CariereJSON[y].NumePozitii[index_pozitie].Orase.length; z++) {

      let li = document.createElement('li');
      li.setAttribute('class', 'Location-item');
      li.setAttribute('title', 'Click aici pentru a atasa CV-ul prin e-mail');

      ul.appendChild(li);

      let a = document.createElement('a');
      a.setAttribute('class', 'Location-trigger');
      a.setAttribute('data-deschide', 'email');
      a.setAttribute('data-pozitie', CariereJSON[y].NumePozitii[index_pozitie].NumePozitie);
      a.setAttribute('data-oras', CariereJSON[y].NumePozitii[index_pozitie].Orase[z]);
      a.setAttribute('data-divizie', CariereJSON[y].NumeDivizie);

      li.appendChild(a);

      a.innerHTML = a.innerHTML + CariereJSON[y].NumePozitii[index_pozitie].Orase[z];
    }
  }
}

/*
  var url_parameters = new URLSearchParams(window.location.search);  
  console.log('url_parameters.has("numedivizie"): ' + url_parameters.has('numedivizie'));
  console.log('url_parameters.get("numedivizie"): ' + url_parameters.get('numedivizie'));
  console.log('url_parameters.has("numepozitie"): ' + url_parameters.has('numepozitie'));
  console.log('url_parameters.get("numepozitie"): ' + url_parameters.get('numepozitie'));
  console.log('url_parameters.has("source"): ' + url_parameters.has('source'));
  console.log('url_parameters.get("source"): ' + url_parameters.get('source'));
  */

var text_email_sursa = '';
var text_email_sursa_subject = '';

let numedivizie = URLSearchParameters("numedivizie");
let numepozitie = URLSearchParameters("numepozitie");
let sursa = URLSearchParameters("sursa");

if (numedivizie) {
  let M = document.getElementById('Magazine');
  let m = document.getElementById('magazine');
  M.classList.remove('-Active');
  m.classList.remove('-Active');

  let S = document.getElementById(numedivizie);
  let s = document.getElementById(numedivizie.toLowerCase());

  S.classList.add('-Active');
  s.classList.add('-Active');
}

if (numepozitie) {
  let button = document.getElementById(numepozitie);
  let pannel = button.nextElementSibling;

  setTimeout(function () {
    var scroll = getScrollTopElement(button);
    window.scrollTo(0, scroll);
  }, 1);

  button.classList.add('-Active');
  pannel.classList.add('-Visible');
}

if (sursa) {
  text_email_sursa = 'Sursa: ' + sursa;
  switch (sursa) {
    case 'Facebook':
      text_email_sursa_subject = '[F] ';
      break;
    case 'Google':
      text_email_sursa_subject = '[G] ';
      break;
    case 'Linkedin':
      text_email_sursa_subject = '[L] ';
      break;
  }
}

/* When the user clicks */
window.onclick = function (event) {
  console.log('event.target: ' + event.target);

  /* If the target is the any hyperlink */
  if (event.target.tagName.toLowerCase() === 'a') {
    console.log('event.target.tagName.toLowerCase(): ' + event.target.tagName.toLowerCase());

    switch (event.target.dataset.deschide) {
      case 'tab':
        console.log('event.target.dataset.deschide: ' + event.target.dataset.deschide);
        console.log('event.target.dataset.content: ' + event.target.dataset.content);
        OpenTab(event, event.target.dataset.content);
        break;
      case 'email':
        console.log('event.target.dataset.deschide: ' + event.target.dataset.deschide);
        var hyperlink_click_dataset_pozitie = event.target.dataset.pozitie;
        console.log('hyperlink_click_dataset_pozitie: ' + event.target.dataset.pozitie);
        var hyperlink_click_dataset_divizie = event.target.dataset.divizie;
        console.log('hyperlink_click_dataset_divizie: ' + hyperlink_click_dataset_divizie);

        /*index_divizie = CariereJSON.findIndex(function (element, i) {
        return element.NumeDivizie === hyperlink_click_dataset_divizie;
        });*/

        for (let z = 0; z < CariereJSON.length; z++) {
          if (hyperlink_click_dataset_divizie === CariereJSON[z].NumeDivizie) {
            index_divizie = z;
            break;
          }
        }

        console.log('index_divizie', index_divizie);
        console.log('CariereJSON[index_divizie]', CariereJSON[index_divizie]);
        console.log('CariereJSON.length', CariereJSON.length);

        for (let k = 0; k < CariereJSON[index_divizie].NumePozitii.length; k++) {
          console.log('CariereJSON[' + index_divizie + '].NumePozitii[' + k + '].NumePozitie: ' + CariereJSON[
            index_divizie].NumePozitii[k].NumePozitie);
          if (hyperlink_click_dataset_pozitie === CariereJSON[index_divizie].NumePozitii[k].NumePozitie) {
            console.log('event.target.dataset.pozitie' + ' = ' + 'CariereJSON[' + index_divizie + '].NumePozitii[' +
              k + '].NumePozitie');

            var index_cariere = CariereJSON[index_divizie].NumePozitii[k];
            console.log('index_cariere: ' + CariereJSON[index_divizie].NumePozitii[k]);
            var text_email_hyperlink_click_dataset_oras = '[' + event.target.dataset.oras.toUpperCase() + ']';
            break;
          }
        }

        /* Get the modal */
        var modal_container = document.getElementById('CariereModalContainer');
        var modal_content = document.getElementById('CariereModalContent');
        let form = document.getElementById('CariereForm');

        /* Get the button that opens the modal */
        let button_next_step = document.getElementById("CariereModalNextStep");

        /* Get the <i> element that closes the modal */
        let i = document.getElementsByClassName("ModalClose")[0];

        /* When the user clicks on <i> (x), close the modal */
        i.onclick = function () {
          /* console.log(i.onclick); */
          modal_container.classList.toggle('-Active');
          modal_content.classList.toggle('-Active');
        };
        /* If the user clicks on the modal container (wich contains the modal content) aka outside the modal content window, close the window */
        if (event.target == modal_container) {
          console.log('if (event.target == modal_container)');
          modal_container.classList.toggle('-Active');
          modal_content.classList.toggle('-Active');
        }

        console.log('modal_container: ' + modal_container);
        modal_container.classList.toggle('-Active');
        modal_content.classList.toggle('-Active');

        /* When the user clicks on the Next Step button */
        form.onsubmit = function (event) {
          event.preventDefault();

          modal_container.classList.toggle('-Active');
          modal_content.classList.toggle('-Active');

          index_cariere.AcorduriGDPR.AcordAltex.ValoareAcordAltex = "Da";
          let checkmark_B = document.getElementById('CheckmarkB').checked;
          if (checkmark_B) index_cariere.AcorduriGDPR.AcordParteneriAltex.ValoareAcordParteneriAltex = "Da";
          else index_cariere.AcorduriGDPR.AcordParteneriAltex.ValoareAcordParteneriAltex = "Nu";

          window.location.href = 'mailto:' +
            index_cariere.Email.MailTo +
            '?subject=' +
            text_email_hyperlink_click_dataset_oras +
            "%20" +
            index_cariere.Email.Subject +
            "%20" +
            text_email_sursa_subject +
            '&body=' +
            index_cariere.Email.BodyHeader +
            index_cariere.NumePozitie +
            index_cariere.Email.BodyContent +
            index_cariere.Email.BodyFooter +
            index_cariere.AcorduriGDPR.AcorduriGDPRHeader +
            index_cariere.AcorduriGDPR.AcordAltex.TextAcordAltex +
            index_cariere.AcorduriGDPR.AcordAltex.ValoareAcordAltex +
            index_cariere.AcorduriGDPR.AcordParteneriAltex.TextAcordParteneriAltex +
            index_cariere.AcorduriGDPR.AcordParteneriAltex.ValoareAcordParteneriAltex +
            index_cariere.AcorduriGDPR.AcorduriGDPRFooter +
            text_email_sursa;
        };
        break;
    }
  }
};

var accordion = document.getElementsByClassName("CariereAccordion");
for (let z = 0; z < accordion.length; z++) {
  accordion[z].onclick = function () {
    this.classList.toggle("-Active");
    this.nextElementSibling.classList.toggle("-Visible");
  };
}

/* Modyfied on 02/10/2017 by L-CI after Gabriel Delépine 1.3.1 */
var height_fixed_header = 0,
  /* For layout with header with position:fixed. Write here the height of your header so your anchor will not be hidden behind */
  speed = 1000,
  moving_frequency = 15,
  /* Affects performance ! A Higher number makes scroll more smooth */
  links = document.getElementsByClassName("SpecialScroll"),
  href;
for (let i = 0; i < links.length; i++) {
  href = (links[i].attributes.href === undefined) ? null : links[i].attributes.href.nodeValue.toString();
  if (href !== null && href.length > 1 && href.indexOf('#') != -1) /* href.substr(0, 1) == '#' */ {
    links[i].onclick = function () {
      var element,
        href = this.attributes.href.nodeValue.toString(),
        url = href.substr(0, href.indexOf('#')),
        id = href.substr(href.indexOf('#') + 1);
      if (element = document.getElementById(id)) {
        var hop_count = (speed - (speed % moving_frequency)) / moving_frequency,
          /* Always make an integer*/
          getScrollTopDocumentAtBegin = getScrollTopDocument(),
          gap = (getScrollTopElement(element) - getScrollTopDocumentAtBegin) / hop_count;
        if (window.history && typeof window.history.pushState == 'function') {
          window.history.pushState({}, undefined, url + '#' + id); /* Change URL for modern browser */
        }
        for (let i = 1; i <= hop_count; i++) {
          (function () {
            var hop_top_position = gap * i;
            setTimeout(function () {
              window.scrollTo(0, hop_top_position + getScrollTopDocumentAtBegin);
            }, moving_frequency * i);
          })();
        }
        return false;
      }
    };
  }
}
var getScrollTopElement = function (e) {
  var top = height_fixed_header * -1;
  while (e.offsetParent !== undefined && e.offsetParent !== null) {
    top += e.offsetTop + (e.clientTop !== null ? e.clientTop : 0);
    e = e.offsetParent;
  }
  return top;
};
var getScrollTopDocument = function () {
  return window.pageYOffset !== undefined ? window.pageYOffset : document.documentElement.scrollTop !== undefined ?
    document.documentElement.scrollTop : document.body.scrollTop;
};

function ReplaceFooterMottoAfterEventOnload() {
  document.getElementsByClassName("Footer-motto")[0].innerHTML =
    "<p>Indrazneste si vino alaturi de cei mai buni! - Vino in echipa Altex!</p>";
}
if (window.addEventListener) window.addEventListener("load", ReplaceFooterMottoAfterEventOnload, false);
else if (window.attachEvent) window.attachEvent("onload", ReplaceFooterMottoAfterEventOnload);
else window.onload = ReplaceFooterMottoAfterEventOnload;

function OpenTab(event, TabName) {
  console.log('OpenTab(' + event + ', ' + TabName + ')');

  var i, tabs_nav_entry, tabs_content_entry;

  tabs_nav_entry = document.getElementsByClassName('Tabs-navEntry');
  for (i = 0; i < tabs_nav_entry.length; i++) {

    //			tabs_nav_entry[i].classList.add('-Inactive');
    //			tabs_nav_entry[i].classList.replace('-Active', '-Inactive');
    if (tabs_nav_entry[i].className.match(/(?:^|\s)-Active(?!\S)/)) {
      tabs_nav_entry[i].className = tabs_nav_entry[i].className.replace(/(?:^|\s)-Active(?!\S)/g, ' -Inactive');
    } else tabs_nav_entry[i].className += ' -Inactive';
  }

  console.log('event.target.parentElement: ' + event.target.parentElement);
  //		event.target.parentElement.classList.replace('-Inactive', '-Active');
  event.target.parentElement.className = event.target.parentElement.className.replace(/(?:^|\s)-Inactive(?!\S)/g,
    ' -Active');

  tabs_content_entry = document.getElementsByClassName('Tabs-contentEntry');
  for (i = 0; i < tabs_content_entry.length; i++) {
    console.log('tabs_content_entry[' + i + ']');
    //			tabs_content_entry[i].classList.add('-Inactive');
    //			tabs_content_entry[i].classList.replace('-Active', '-Inactive');
    if (tabs_content_entry[i].className.match(/(?:^|\s)-Active(?!\S)/)) {
      tabs_content_entry[i].className = tabs_content_entry[i].className.replace(/(?:^|\s)-Active(?!\S)/g,
        ' -Inactive');
    } else tabs_content_entry[i].className += ' -Inactive';
  }

  //		document.getElementById(TabName).classList.replace('-Inactive', '-Active');
  document.getElementById(TabName).className = document.getElementById(TabName).className.replace(
    /(?:^|\s)-Inactive(?!\S)/g, ' -Active');

}

function URLSearchParameters(variable) {
  var query = window.location.search.substring(1);
  var vars = query.split("&");
  for (var i = 0; i < vars.length; i++) {
    var pair = vars[i].split("=");
    if (pair[0] == variable) {
      /* so that parameter value can include space '%20' characters */
      if (pair[1].indexOf('%20') != -1) {

        var fullName = pair[1].split('%20'),
          fullParameter = '';

        for (var i = 0; i < fullName.length; i++) {
          fullParameter += fullName[i] + ' ';

          if (i == (fullName.length - 1)) {
            var newParameter = fullParameter.substr(0, fullParameter.length - 1);
            return newParameter;
          }
        }
      } else {
        return pair[1];
      }
    }
  }
  return (false);
}